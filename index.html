<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>REFAELI GAVRI - PRO</title>
    <style>
        :root { --wood: #3d2b1f; --board: #e3c598; --gold: #d4a76a; --panel: #2c1e16; }
        body { background: #000; margin: 0; display: flex; justify-content: center; align-items: center; height: 100vh; font-family: sans-serif; }
        
        .game-container { display: flex; width: 98vw; height: 92vh; background: var(--wood); border: 8px solid #221a12; border-radius: 4px; box-shadow: 0 0 50px #000; padding: 10px; box-sizing: border-box; }
        
        /* מחסניות */
        .sidebar { width: 150px; background: var(--panel); border: 2px solid var(--gold); border-radius: 5px; display: flex; flex-direction: column; overflow-y: auto; padding: 8px; }
        .sidebar-title { color: var(--gold); font-size: 12px; font-weight: bold; text-align: center; margin-bottom: 10px; border-bottom: 1px solid var(--gold); padding-bottom: 5px; }

        /* אזור הלוח */
        .board-wrapper { flex: 1; margin: 0 12px; position: relative; background: var(--board); border: 2px solid #000; overflow: hidden; }
        .center-bar { position: absolute; left: 50%; top: 0; bottom: 0; width: 44px; background: var(--wood); transform: translateX(-50%); z-index: 5; display: flex; justify-content: center; align-items: center; border: 1px solid #1a1a1a; }
        .logo { color: var(--gold); transform: rotate(-90deg); font-weight: bold; font-size: 24px; white-space: nowrap; letter-spacing: 2px; }

        /* קוביות */
        .dice-set { background: rgba(0,0,0,0.4); border: 1px solid var(--gold); border-radius: 8px; padding: 8px; margin-bottom: 10px; display: flex; flex-direction: column; align-items: center; }
        .die { width: 38px; height: 38px; background: #fff; border-radius: 5px; margin: 4px; display: grid; grid-template: repeat(3, 1fr) / repeat(3, 1fr); padding: 5px; box-sizing: border-box; }
        .dot { background: #000; border-radius: 50%; width: 7px; height: 7px; margin: auto; }
        
        canvas { width: 100%; height: 100%; display: block; }
    </style>
</head>
<body>

<div class="game-container">
    <div class="sidebar">
        <div class="sidebar-title">מחסנית לבן</div>
        <div id="white-stack"></div>
    </div>

    <div class="board-wrapper">
        <div class="center-bar"><div class="logo">REFAELI GAVRI</div></div>
        <canvas id="c"></canvas>
    </div>

    <div class="sidebar">
        <div class="sidebar-title">מחסנית שחור</div>
        <div id="black-stack"></div>
    </div>
</div>

<script>
    const canvas = document.getElementById('c');
    const ctx = canvas.getContext('2d');

    const dots = { 1:[4], 2:[0,8], 3:[0,4,8], 4:[0,2,6,8], 5:[0,2,4,6,8], 6:[0,2,3,5,6,8] };

    function draw() {
        canvas.width = canvas.offsetWidth;
        canvas.height = canvas.offsetHeight;
        const w = canvas.width, h = canvas.height;

        // משולשים
        for(let i=0; i<12; i++) {
            ctx.fillStyle = i % 2 === 0 ? "#5d4037" : "#d4a76a";
            ctx.beginPath(); ctx.moveTo(i*(w/12), 0); ctx.lineTo(i*(w/12)+w/12, 0); ctx.lineTo(i*(w/12)+w/24, h*0.4); ctx.fill();
            ctx.fillStyle = i % 2 === 0 ? "#d4a76a" : "#5d4037";
            ctx.beginPath(); ctx.moveTo(i*(w/12), h); ctx.lineTo(i*(w/12)+w/12, h); ctx.lineTo(i*(w/12)+w/24, h*0.6); ctx.fill();
        }

        // אבנים גדולות (פרופורציה של תמונה 8b9225)
        const layout = [2,0,0,0,0,-5, 0,-3,0,0,0,5, -5,0,0,0,3,0, 5,0,0,0,0,-2];
        layout.forEach((v, i) => {
            let col = i < 12 ? 11 - i : i - 12;
            let x = (col * (w/12)) + (w/24);
            for(let j=0; j < Math.abs(v); j++) {
                let y = i >= 12 ? 35 + (j * 48) : h - 35 - (j * 48);
                ctx.beginPath(); ctx.arc(x, y, 22, 0, 7);
                ctx.fillStyle = v > 0 ? "#fff" : "#222";
                ctx.fill();
                ctx.strokeStyle = "#000"; ctx.lineWidth = 2; ctx.stroke();
                // ברק קטן על האבן
                ctx.beginPath(); ctx.arc(x-6, y-6, 5, 0, 7);
                ctx.fillStyle = "rgba(255,255,255,0.2)"; ctx.fill();
            }
        });
    }

    function buildDice(id) {
        const container = document.getElementById(id);
        for(let i=0; i<6; i++) {
            let v1 = Math.floor(Math.random()*6)+1, v2 = Math.floor(Math.random()*6)+1;
            let html = `<div class="dice-set"><div class="die">`;
            for(let d=0; d<9; d++) html += dots[v1].includes(d) ? `<div class="dot"></div>` : `<div></div>`;
            html += `</div><div class="die">`;
            for(let d=0; d<9; d++) html += dots[v2].includes(d) ? `<div class="dot"></div>` : `<div></div>`;
            container.innerHTML += html + `</div></div>`;
        }
    }

    // הפעלה בטוחה למניעת מסך שחור
    window.addEventListener('load', () => {
        setTimeout(() => {
            draw();
            buildDice('white-stack');
            buildDice('black-stack');
        }, 100);
    });
</script>
</body>
</html>
